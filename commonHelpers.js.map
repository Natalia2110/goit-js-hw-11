{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/img/alert-icon.svg","../src/main.js"],"sourcesContent":["export async function getImages(request) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    key: '44418953-cdbfe82a1d191a3eebe28ee3b',\n    q: request,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: 1,\n    per_page: 100,\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n//   console.log(url);\n\n  const options = {\n    headers: {\n      'Access-Control-Allow-Origin': '*',\n      'Content - Type': 'application/json',\n\n      'X-RateLimit-Limit': '100',\n      'X-RateLimit-Remaining': '99',\n      'X-RateLimit-Reset': '0.6',\n    },\n  };\n  const res = await fetch(url, { options });\n  if (res.ok) {\n    return res.json();\n  } else {\n    throw new Error(res.status);\n  }\n}\n\n// getImages(`dog`);\n\n// async function getImages(request) {\n//     const BASE_URL = 'https://pixabay.com';\n//     const END_POINT = '/api/';\n//     const params = new URLSearchParams({\n//         key: '44418953-cdbfe82a1d191a3eebe28ee3b',\n//         q: `${request}`,\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: true,\n//     });\n\n//     const url = `${BASE_URL}${END_POINT}?${params}`;\n//     console.log(url);\n\n//     const headers = {\n//         'Content-Type': 'application/json',\n\n//         'X-RateLimit-Limit': '100',\n//         'X-RateLimit-Remaining': '99',\n//         'X-RateLimit-Reset': '0.6',\n//     };\n\n//     const res = await fetch(url, { headers });\n//     return await res.json();\n\n// };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function imagesTemplate(arr) {\n  const listEl = document.querySelector('.gallery');\n\n  const markup = arr.map(imageTemplate).join('');\n//   console.log(markup);\n\n  listEl.insertAdjacentHTML('beforeEnd', markup);\n\n  if (lightbox) {\n    lightbox.refresh();\n  }\n  lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionType: 'attr',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n}\n\nconst imageTemplate = image => {\n  return `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=${image.largeImageURL}>\n        <img class=\"gallery-image\" src=${image.webformatURL} alt=${image.tags} />\n      </a>\n      <ul class=\"desc-list\">\n        <li class=\"desc-item\">\n          <span class=\"desc-text\">Likes</span>\n          <span class=\"number\">${image.likes}</span>\n        </li>\n        <li class=\"desc-item\">\n          <span class=\"desc-text\">Views</span>\n          <span class=\"number\">${image.views}</span>\n        </li>\n        <li class=\"desc-item\">\n          <span class=\"desc-text\">Comments</span>\n          <span class=\"number\">${image.comments}</span>\n        </li>\n        <li class=\"desc-item\">\n          <span class=\"desc-text\">Downloads</span>\n          <span class=\"number\">${image.downloads}</span>\n        </li>\n      </ul>\n    </li>`;\n};\n\n\n","export default \"__VITE_ASSET__5e15ff8a__\"","import './js/pixabay-api';\nimport './js/render-function';\n\n// console.log(btnEl);\nimport { getImages } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-function';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport imageUrl from './img/alert-icon.svg';\n// import listEl from './js/render-function'\n\nconst formEl = document.querySelector('.form');\nconst inputEl = document.querySelector('.form-input');\nconst imagesList = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\n// loaderEl.style.display = 'none';\n\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n  imagesList.innerHTML = '';\n  // loaderEl.style.display = 'inline-block';\n//   loaderEl.classList.toggle('.visually-hidden');\n\n  const request = e.target.elements.photo.value.trim();\n  //   console.log(request);\n\n  if (request === '') {\n    showIziToast();\n  } else {\n      showLoader();\n      getImages(request)\n      .then(data => {\n        inputEl.value = '';\n        //   loaderEl.style.display = 'none';\n        if (data.total === 0) {\n          showIziToast();\n        } else {\n          return imagesTemplate(data.hits);\n        }\n      })\n      .catch(err => alert(err))\n      .finally(() => hideLoader());\n  }\n});\n\nfunction showIziToast() {\n  return iziToast.show({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n    messageColor: '#fff',\n    messageSize: '16',\n    messageLineHeight: '0.03em',\n    titleColor: '#fff',\n    titleSize: '16',\n    titleLineHeight: '0.03em',\n    position: 'topRight',\n    backgroundColor: '#ef4040',\n    theme: 'dark',\n    iconUrl: imageUrl,\n    iconColor: '#FAFAFB',\n  });\n};\n\nfunction showLoader() {\n  loaderEl.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  loaderEl.classList.add('hidden');\n}\n"],"names":["getImages","request","BASE_URL","END_POINT","params","url","res","lightbox","imagesTemplate","arr","listEl","markup","imageTemplate","SimpleLightbox","image","imageUrl","formEl","inputEl","imagesList","loaderEl","e","showIziToast","showLoader","data","err","hideLoader","iziToast"],"mappings":"6vBAAO,eAAeA,EAAUC,EAAS,CACvC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,GACd,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAavCE,EAAM,MAAM,MAAMD,EAAK,CAAE,QAVf,CACd,QAAS,CACP,8BAA+B,IAC/B,iBAAkB,mBAElB,oBAAqB,MACrB,wBAAyB,KACzB,oBAAqB,KACtB,CACL,CAC0C,CAAA,EACxC,GAAIC,EAAI,GACN,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAE9B,CC7BA,IAAIC,EAEG,SAASC,EAAeC,EAAK,CAClC,MAAMC,EAAS,SAAS,cAAc,UAAU,EAE1CC,EAASF,EAAI,IAAIG,CAAa,EAAE,KAAK,EAAE,EAG7CF,EAAO,mBAAmB,YAAaC,CAAM,EAEzCJ,GACFA,EAAS,QAAO,EAElBA,EAAW,IAAIM,EAAe,aAAc,CAC1C,aAAc,MACd,YAAa,OACb,gBAAiB,SACjB,aAAc,GAClB,CAAG,CACH,CAEA,MAAMD,EAAgBE,GACb;AAAA,qCAC4BA,EAAM,aAAa;AAAA,yCACfA,EAAM,YAAY,QAAQA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAK5CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,WC5CjCC,EAAA,gDCaTC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAW,SAAS,cAAc,SAAS,EAIjDH,EAAO,iBAAiB,SAAUI,GAAK,CACrCA,EAAE,eAAc,EAChBF,EAAW,UAAY,GAIvB,MAAMjB,EAAUmB,EAAE,OAAO,SAAS,MAAM,MAAM,OAG1CnB,IAAY,GACdoB,KAEEC,IACAtB,EAAUC,CAAO,EAChB,KAAKsB,GAAQ,CAGZ,GAFAN,EAAQ,MAAQ,GAEZM,EAAK,QAAU,EACjBF,QAEA,QAAOb,EAAee,EAAK,IAAI,CAEzC,CAAO,EACA,MAAMC,GAAO,MAAMA,CAAG,CAAC,EACvB,QAAQ,IAAMC,EAAU,CAAE,EAEjC,CAAC,EAED,SAASJ,GAAe,CACtB,OAAOK,EAAS,KAAK,CACnB,QACE,2EACF,aAAc,OACd,YAAa,KACb,kBAAmB,SACnB,WAAY,OACZ,UAAW,KACX,gBAAiB,SACjB,SAAU,WACV,gBAAiB,UACjB,MAAO,OACP,QAASX,EACT,UAAW,SACf,CAAG,CACH,CAEA,SAASO,GAAa,CACpBH,EAAS,UAAU,OAAO,QAAQ,CACpC,CAEA,SAASM,GAAa,CACpBN,EAAS,UAAU,IAAI,QAAQ,CACjC"}